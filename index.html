<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ææ·±çš„ä¸ªäººç½‘ç«™</title>
    <!-- å¼•å…¥ Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- ç§»é™¤ Three.js ä¾èµ–ï¼Œæ”¹ç”¨çº¯ JS å®ç° 2D åœ°å›¾äº¤äº’ -->
    <style>
        /* å¼ºåˆ¶ä½¿ç”¨ Inter å­—ä½“æ ˆï¼Œå¹¶æ·»åŠ  iOS/macOS å‹å¥½å­—ä½“ */
        :root {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
        }
        
        /* éšè—æ»šåŠ¨æ¡ï¼Œä¿æŒé¡µé¢æ•´æ´ï¼Œä½†å†…å®¹ä»å¯æ»šåŠ¨ */
        body {
            overflow-x: hidden;
            background-color: #f5f5f7; /* è‹¹æœå¸¸ç”¨çš„èƒŒæ™¯æµ…è‰² */
            scroll-behavior: smooth;
        }

        /* éšè—å…ƒç´ ï¼Œå‡†å¤‡è¿›è¡ŒåŠ¨ç”» */
        .scroll-fade-element {
            opacity: 0;
            transform: translateY(30px);
            /* ä¼˜åŒ–å¹³æ»‘åº¦ï¼šä½¿ç”¨ 1.5s æ—¶é•¿çš„ Ease-Out-Expo ç¼“åŠ¨æ›²çº¿ï¼Œæ›´å…·é«˜çº§æ„Ÿ */
            transition: opacity 1.5s cubic-bezier(0.23, 1, 0.32, 1), transform 1.5s cubic-bezier(0.23, 1, 0.32, 1); 
        }

        /* åŠ¨ç”»è§¦å‘åçš„çŠ¶æ€ */
        .scroll-fade-element.active {
            opacity: 1;
            transform: translateY(0);
        }

        /* ç¡®ä¿æ¯ä¸ª section éƒ½æ˜¯å…¨å±é«˜ */
        .full-page-section {
            min-height: 100vh;
        }

        /* é¦–é¡µèƒŒæ™¯è“è°ƒ */
        #hero-section {
            background: linear-gradient(180deg, #0b1224 0%, #0e1b33 50%, #0f172a 100%);
        }
        
        /* 2D åœ°å›¾å®¹å™¨ - æ›¿ä»£ #globe-container */
        #map-container {
            width: 100%;
            height: 100vh;
            position: absolute;
            top: 0;
            left: 0;
            overflow: hidden;
            user-select: none;
        }
        
        /* Google Map å®¹å™¨ */
        #map {
            width: 100%;
            height: 100%;
            border-radius: 32px;
            filter: saturate(1.05);
        }

        /* åœ°å›¾æ–‡æ¡ˆé®æŒ¡ä¼˜åŒ– */
        #map-overlay {
            transition: opacity 0.3s ease;
        }

        /* Contact å±±æ™¯ä¸æˆ¿å­ç‰¹æ•ˆ */
        .mountain-bg {
            position: absolute;
            bottom: 0;
            right: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        #mountain-trigger-zone {
            position: absolute;
            right: 0;
            bottom: 0;
            width: 50%;
            height: 60%;
            z-index: 5;
            cursor: pointer;
        }

        #home-box {
            position: absolute;
            left: 8%;
            bottom: 8%;
            width: 140px;
            height: 140px;
            z-index: 20;
            cursor: pointer;
            pointer-events: auto;
        }

        .smoke {
            position: absolute;
            top: 15px;
            left: 75px;
            width: 10px;
            height: 10px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 50%;
            filter: blur(5px);
            opacity: 0;
            animation: smokeRise 3.5s infinite linear;
        }
        .smoke-2 { animation-delay: 1.2s; }
        .smoke-3 { animation-delay: 2.4s; }

        @keyframes smokeRise {
            0% { transform: translateY(0) scale(1); opacity: 0; }
            20% { opacity: 0.7; }
            100% { transform: translateY(-70px) scale(3.5); opacity: 0; }
        }

        .house-inner {
            width: 100%;
            height: 100%;
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            transform-origin: bottom center;
        }
        #home-box:hover .house-inner {
            transform: scale(1.15) rotate(-2deg);
        }

        .window-light {
            fill: #fbbf24;
            animation: windowGlow 3s infinite ease-in-out;
        }
        @keyframes windowGlow {
            0%, 100% { fill: #fbbf24; filter: drop-shadow(0 0 2px #fbbf24); }
            50% { fill: #fef3c7; filter: drop-shadow(0 0 10px #fcd34d); }
        }

        #home-tooltip {
            position: absolute;
            top: -55px;
            left: 50%;
            transform: translateX(-50%) translateY(10px);
            background: rgba(37, 99, 235, 0.9);
            backdrop-filter: blur(4px);
            color: white;
            padding: 8px 18px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            white-space: nowrap;
            opacity: 0;
            transition: all 0.3s cubic-bezier(0.18, 0.89, 0.32, 1.28);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
        }
        #home-box:hover #home-tooltip {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }
    </style>
</head>
<body>

    <!-- é¡¶éƒ¨å¯¼èˆªæ  (å›ºå®šï¼ŒåŠé€æ˜æ•ˆæœ) -->
    <!-- ski cursor + snow particles -->
    <canvas id="particles-canvas" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 9998;"></canvas>

    <div id="ski-avatar-container" style="position: fixed; width: 80px; height: 80px; pointer-events: none; z-index: 9999; filter: drop-shadow(0 10px 15px rgba(0,0,0,0.3)); display: none;">
        <svg class="ski-man" viewBox="0 0 100 100" style="width: 100%; height: 100%; transition: transform 0.1s ease-out">
            <!-- æ»‘é›ªæ¿ -->
            <path d="M15 85 Q 50 92 85 85" stroke="#fff" stroke-width="5" fill="none" stroke-linecap="round"/>
            <path d="M20 82 Q 50 88 80 82" stroke="#3b82f6" stroke-width="2" fill="none" stroke-linecap="round"/>
            <!-- èº«ä½“ -->
            <rect x="38" y="45" width="24" height="32" rx="6" fill="#3b82f6" />
            <!-- å¤´ç›” -->
            <circle cx="50" cy="35" r="10" fill="#1e293b" />
            <!-- æŠ¤ç›®é•œåå°„ -->
            <rect x="42" y="32" width="16" height="5" rx="2" fill="#60a5fa" />
            <!-- é›ªæ– -->
            <line x1="30" y1="50" x2="20" y2="85" stroke="#94a3b8" stroke-width="2" />
            <line x1="70" y1="50" x2="80" y2="85" stroke="#94a3b8" stroke-width="2" />
        </svg>
    </div>

    <header class="fixed top-0 left-0 right-0 z-50 p-4 backdrop-blur-md bg-slate-900/80 border-b border-slate-800 shadow-sm text-slate-100">
        <div class="max-w-7xl mx-auto flex justify-between items-center px-4 md:px-8">
            <a href="#" class="text-xl font-semibold text-slate-100 tracking-tight">ææ·±</a>
            <nav class="space-x-8 text-sm font-medium">
                <a href="#about" class="text-slate-200 hover:text-white transition">å…³äº</a>
                <a href="#projects" class="text-slate-200 hover:text-white transition">è¶³è¿¹</a> <!-- åç§°æ”¹ä¸ºè¶³è¿¹ -->
                <a href="#contact" class="text-slate-200 hover:text-white transition">è”ç³»</a>
            </nav>
        </div>
    </header>

    <main>
        
        <!-- 1. é¦–é¡µ (Hero Section) -->
        <section id="hero-section" class="full-page-section flex items-center justify-center text-center p-8 text-white">
            <div class="space-y-6 max-w-4xl pt-16 scroll-fade-element">
                <p class="text-xl text-gray-300 font-medium">ä½ å¥½</p>
                <h1 class="text-7xl md:text-8xl lg:text-9xl font-extrabold text-white tracking-tighter leading-none">
                    <span class="block">æˆ‘å«ææ·±</span>
                    <span class="block text-sky-400 whitespace-nowrap">æ¬¢è¿ï¼Œå¥½ä¹…ä¸è§ï¼</span>
                </h1>
                <p class="text-2xl text-gray-300 max-w-2xl mx-auto pt-4">è¿™ä¸ªç½‘ç«™æ˜¯æˆ‘æ•´ç†ç»å†ã€æƒ³æ³•å’Œæˆé•¿è½¨è¿¹çš„åœ°æ–¹ã€‚</p>
                <div class="pt-8 flex justify-center gap-4 flex-wrap">
                    <button id="resume-open" class="px-8 py-3 bg-blue-600 text-white font-semibold rounded-full shadow-lg hover:bg-blue-500 transition duration-300 transform hover:scale-105">
                        æˆ‘çš„ç®€å†
                    </button>
                    <a href="#about" class="px-8 py-3 bg-white text-gray-900 font-semibold rounded-full shadow-lg hover:bg-gray-100 border border-gray-200 transition duration-300 transform hover:scale-105">
                        å…³äºæˆ‘
                    </a>
                </div>
            </div>
        </section>

        <!-- 2. å…³äºæˆ‘ (About Section) - æµ…ç°è‰²èƒŒæ™¯ -->
        <section id="about" class="full-page-section bg-slate-900 text-white flex items-center justify-center p-8 border-t border-slate-800">
            <div class="max-w-6xl mx-auto text-left grid md:grid-cols-2 gap-12 items-center">
                <div class="scroll-fade-element">
                    <p class="text-sm uppercase text-sky-400 font-semibold mb-2 tracking-widest">å…³äºæˆ‘</p>
                    <h2 class="text-5xl font-bold text-white mb-6 leading-tight">
                        å‡ºå‘ï¼Œ<span class="whitespace-nowrap">æ°¸è¿œæ˜¯ç”Ÿå‘½ä¸­æœ€æœ‰æ„ä¹‰çš„äº‹</span>
                    </h2>
                    <p class="text-xl text-gray-300 space-y-4">
                        <span class="block">æˆ‘å–œæ¬¢æ—…è¡Œï¼Œç›´åˆ°ç°åœ¨ï¼Œæˆ‘ä¾ç„¶å›ºæ‰§åœ°è®¤ä¸ºï¼Œç”Ÿå‘½å±äºå¤©ç©ºã€æµ·æ´‹ä¸å¤§åœ°ï¼Œå±äºé£å£°ã€é›¨é›ªå’Œé˜³å…‰ï¼Œå±äºçº·æ¬¡ç»½æ”¾çš„èŠ±æœµï¼Œå±äºæ‹”åœ°è€Œèµ·çš„é£æš´ï¼Œå±äºå¤§è‡ªç„¶æ— æ•°å¥‡è¿¹çš„ä¸€æŸã€‚ç”Ÿå‘½ä¸å±äºä»»ä½•äººï¼Œè€Œåªå±äºæ˜Ÿè¾°ã€è‡ªç”±ã€ç†æƒ³ï¼Œå’Œå¥¹ä»¬æœ¬èº«ã€‚ä¹Ÿè®¸ï¼Œç”Ÿå‘½æœ¬èº«å°±æ˜¯ä¸€åœºæ—…è¡Œã€‚</span>
                        <span class="block">å±±ä¸è§æˆ‘ï¼Œæˆ‘è‡ªå»è§å±±</span>
                    </p>
                </div>
                <!-- å ä½å›¾ (Placeholder Image) -->
                <div class="scroll-fade-element delay-300">
                    <img src="assets/images/ski.jpg" alt="ææ·±æ»‘é›ªç…§ç‰‡" class="w-full h-[28rem] object-cover rounded-3xl shadow-xl bg-gray-200">
                </div>
            </div>
        </section>
        
        <!-- 3. ä½œå“é›†/è¶³è¿¹ (Projects Section) - äº’åŠ¨ 2D åœ°å›¾ -->
        <section id="projects" class="full-page-section bg-gray-900 relative flex items-center justify-center p-8 overflow-hidden">
            <!-- 2D åœ°å›¾æ¸²æŸ“å®¹å™¨ -->
            <div id="map-container">
                <div id="map" class="rounded-[32px] shadow-2xl"></div>
            </div>

            <!-- åœ°å›¾ä¸Šçš„æµ®åŠ¨æ–‡æœ¬ (ä½¿ç”¨ scroll-fade-element ç¡®ä¿åŠ¨ç”») -->
            <div id="map-overlay" class="absolute inset-0 flex flex-col items-center justify-center z-20 pointer-events-none">
                <div class="max-w-xl text-center p-8 scroll-fade-element delay-200">
                    <p class="text-sm uppercase text-gray-400 font-semibold mb-2 tracking-widest">æˆ‘çš„è¶³è¿¹ä¸åˆ›ä½œ</p>
                    <h2 class="text-5xl font-bold text-white mb-4 leading-tight">
                        æ‹–åŠ¨å’Œç¼©æ”¾åœ°å›¾
                    </h2>
                    <p class="text-lg text-gray-300">æ¢ç´¢æˆ‘çš„å…¨çƒçµæ„Ÿæ¥æºï¼Œä½¿ç”¨é¼ æ ‡æ‹–åŠ¨å¹³ç§»ï¼Œæ»šè½®ç¼©æ”¾åœ°å›¾ã€‚</p>
                </div>
            </div>
        </section>

        <!-- 4. è”ç³»æ–¹å¼ (Contact Section) - æµ…è‰²åº•éƒ¨ -->
        <section id="contact-old" class="hidden">
            <div class="max-w-xl mx-auto text-center scroll-fade-element">
                <p class="text-sm uppercase text-sky-400 font-semibold mb-2 tracking-widest">å¼€å¯å¯¹è¯</p>
                <h2 class="text-5xl font-bold text-white mb-8 leading-tight">
                    éšæ—¶ä¸æˆ‘è”ç³»
                </h2>
                <p class="text-xl text-gray-300 mb-10">
                    æ— è®ºæ˜¯é¡¹ç›®åˆä½œã€èŒä½é‚€è¯·ï¼Œè¿˜æƒ³èŠèŠæ–°æŠ€æœ¯ï¼Œæ—…è¡Œæ„Ÿæ‚Ÿï¼Œæˆ‘éƒ½å¾ˆæœŸå¾…æ”¶åˆ°ä½ çš„æ¶ˆæ¯ã€‚
                </p>
                <a id="contact-email-old" href="mailto:steveli001018@gmail.com" class="inline-block px-10 py-4 bg-blue-600 text-white font-semibold rounded-full text-lg shadow-xl hover:bg-blue-700 transition duration-300 transform hover:translate-y-[-2px] hover:shadow-2xl">
                    å‘é€é‚®ä»¶
                </a>
            </div>
        </section>
        
        <!-- 4. è”ç³»æ–¹å¼ (Contact Section) - é›ªæ™¯äº’åŠ¨ -->
        <section id="contact" class="full-page-section bg-sky-50 flex items-center justify-center p-8 relative overflow-hidden">
            
            <!-- é›ªå±±èƒŒæ™¯ -->
            <div class="mountain-bg">
                <svg viewBox="0 0 1000 600" preserveAspectRatio="xMidYMax slice" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-full h-full">
                    <path d="M0 600L250 250L450 450L700 150L1000 600H0Z" fill="#bae6fd" />
                    <path d="M150 600L400 300L650 500L850 280L1100 600H150Z" fill="#7dd3fc" />
                    <path d="M400 300L450 360L360 380L400 300Z" fill="white" opacity="0.8" />
                    <path d="M850 280L910 350L800 370L850 280Z" fill="white" opacity="0.8" />
                    <rect width="1000" height="200" y="400" fill="url(#snowFade)" />
                    <defs>
                        <linearGradient id="snowFade" x1="0" y1="0" x2="0" y2="1">
                            <stop offset="0" stop-color="transparent" />
                            <stop offset="1" stop-color="white" />
                        </linearGradient>
                    </defs>
                </svg>
            </div>

            <!-- ç‰¹æ•ˆå°æœ¨å±‹ -->
            <div id="home-box">
                <div id="home-tooltip">è®©æˆ‘ä»¬å›å®¶ï¼ğŸ </div>
                
                <div class="smoke"></div>
                <div class="smoke smoke-2"></div>
                <div class="smoke smoke-3"></div>

                <div class="house-inner">
                    <svg viewBox="0 0 120 120" class="w-full h-full drop-shadow-[0_12px_24px_rgba(0,0,0,0.25)]">
                        <!-- èƒŒæ™¯åŸºåº§ -->
                        <path d="M6 94 Q20 88 34 94 T62 94 T90 94 T114 94 V108 H6Z" fill="#0f172a" opacity="0.4"/>

                        <!-- é›ªé¡¶é«˜å…‰ -->
                        <path d="M14 60 L60 20 L106 60 L96 60 L60 30 L24 60Z" fill="#f8fafc" opacity="0.85"/>
                        
                        <!-- å±‹é¡¶ -->
                        <path d="M12 62 L60 22 L108 62" fill="#ef4444" stroke="#b91c1c" stroke-width="5" stroke-linejoin="round"/>
                        <path d="M22 62 L60 32 L98 62" fill="url(#roofGrad)" stroke="#7f1d1d" stroke-width="2" stroke-linejoin="round"/>

                        <!-- å¤–å¢™ -->
                        <rect x="24" y="62" width="72" height="44" rx="4" fill="#fef3c7" stroke="#d97706" stroke-width="3"/>
                        <rect x="28" y="66" width="64" height="36" rx="3" fill="url(#wallGrad)" opacity="0.7"/>

                        <!-- é—¨ -->
                        <rect x="54" y="76" width="14" height="26" rx="2" fill="#78350f" stroke="#451a03" stroke-width="1.5"/>
                        <circle cx="65" cy="89" r="1.8" fill="#fbbf24"/>

                        <!-- çª—æˆ· -->
                        <rect class="window-light" x="34" y="70" width="12" height="12" rx="2" stroke="#92400e" stroke-width="1.5"/>
                        <line x1="34" y1="76" x2="46" y2="76" stroke="#92400e" stroke-width="1"/>
                        <line x1="40" y1="70" x2="40" y2="82" stroke="#92400e" stroke-width="1"/>

                        <rect class="window-light" x="74" y="70" width="12" height="12" rx="2" stroke="#92400e" stroke-width="1.5"/>
                        <line x1="74" y1="76" x2="86" y2="76" stroke="#92400e" stroke-width="1"/>
                        <line x1="80" y1="70" x2="80" y2="82" stroke="#92400e" stroke-width="1"/>

                        <!-- çƒŸå›± -->
                        <rect x="78" y="30" width="12" height="18" fill="#475569" stroke="#1f2937" stroke-width="2" rx="1"/>
                        <rect x="76" y="28" width="16" height="4" fill="#94a3b8" rx="1"/>

                        <defs>
                            <linearGradient id="roofGrad" x1="20" y1="30" x2="100" y2="70">
                                <stop offset="0" stop-color="#fca5a5"/>
                                <stop offset="1" stop-color="#ef4444"/>
                            </linearGradient>
                            <linearGradient id="wallGrad" x1="24" y1="60" x2="96" y2="108">
                                <stop offset="0" stop-color="#fff7ed" stop-opacity="0.7"/>
                                <stop offset="1" stop-color="#fef3c7" stop-opacity="0.3"/>
                            </linearGradient>
                        </defs>
                    </svg>
                </div>
            </div>

            <!-- é›ªå±±æ„Ÿåº”åŒº -->
            <div id="mountain-trigger-zone"></div>

            <!-- æ–‡æ¡ˆ -->
            <div class="max-w-xl mx-auto text-center scroll-fade-element active relative z-10">
                <p class="text-xs uppercase tracking-widest text-slate-500 font-semibold mb-3">å¼€å¯å¯¹è¯</p>
                <h2 class="text-4xl md:text-5xl font-extrabold text-slate-900 mb-6 leading-tight">éšæ—¶ä¸æˆ‘è”ç³»</h2>
                <p class="text-base md:text-lg text-slate-600 leading-relaxed mb-8">æ— è®ºæ˜¯é¡¹ç›®åˆä½œã€èŒä½é‚€è¯·ï¼Œè¿˜æ˜¯ä»…ä»…æƒ³èŠèŠæ–°æŠ€æœ¯ã€æ—…è¡Œæ„Ÿæ‚Ÿï¼Œæˆ‘éƒ½å¾ˆæœŸå¾…æ”¶åˆ°ä½ çš„æ¶ˆæ¯ã€‚</p>

                <div class="flex flex-col items-center gap-6">
                    <a id="contact-email" href="mailto:steveli001018@gmail.com" class="group relative inline-flex items-center justify-center px-12 py-4 font-bold text-white transition-all duration-300 bg-blue-600 rounded-full hover:bg-blue-700 hover:shadow-2xl active:scale-95">
                        <span>å‘é€é‚®ä»¶</span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 ml-2 transition-transform group-hover:translate-x-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                        </svg>
                    </a>
                    
                    <div class="p-4 bg-white/40 backdrop-blur-sm rounded-2xl border border-white/50 text-gray-700 text-sm shadow-lg">
                        <p>ğŸ”ï¸ è¯•è¯•åœ¨<b>å³ä¾§é›ªå±±</b>æ‚¬åœ 1s </p> 
                    </div>
                </div>
            </div>
        </section>
        
        <!-- åº•éƒ¨ç‰ˆæƒä¿¡æ¯ -->
        <footer class="py-12 text-center bg-gray-100 text-gray-500 text-sm">
            <p>&copy; 2025 ææ·±. All rights reserved. | çµæ„Ÿæºäº Apple.</p>
        </footer>

    </main>
    
    <!-- äº’åŠ¨æ¨¡æ€æ¡† (Modal) - ä¿æŒéšè— -->
    <div id="project-modal" class="fixed inset-0 z-[100] bg-black/70 hidden flex items-center justify-center p-4 transition-opacity duration-300 opacity-0">
        <div class="bg-white rounded-3xl p-10 max-w-2xl w-full shadow-2xl transform transition-transform duration-300 scale-95">
            <h3 id="modal-title" class="text-4xl font-bold text-gray-900 mb-5">é¡¹ç›®æ ‡é¢˜</h3>
            <div class="flex items-center justify-between mb-4 gap-3">
                <button id="diary-prev" class="px-4 py-2 rounded-full bg-gray-100 text-gray-700 hover:bg-gray-200 transition text-sm font-semibold">ä¸Šä¸€é¡µ</button>
                <span id="diary-page" class="text-sm text-gray-500">1 / 1</span>
                <button id="diary-next" class="px-4 py-2 rounded-full bg-gray-100 text-gray-700 hover:bg-gray-200 transition text-sm font-semibold">ä¸‹ä¸€é¡µ</button>
            </div>
            <p id="modal-content" class="text-lg text-gray-700 mb-6 whitespace-pre-line">è¿™æ˜¯é¡¹ç›®æˆ–è¶³è¿¹çš„è¯¦ç»†æè¿°å’Œç…§ç‰‡ã€‚</p>
            <img id="modal-image" src="" alt="æ—…é€”ç…§ç‰‡" class="w-full max-h-[60vh] object-contain rounded-2xl mb-6 bg-gray-50 p-3 border border-gray-200">
            <button id="modal-close" class="w-full py-3.5 bg-gray-200 text-gray-800 font-semibold rounded-full hover:bg-gray-300 transition">å…³é—­</button>
        </div>
    </div>

    <!-- ç®€å†æ¨¡æ€æ¡† -->
    <div id="resume-modal" class="fixed inset-0 z-[120] bg-black/70 hidden flex items-center justify-center p-4 transition-opacity duration-300 opacity-0">
        <div class="bg-white rounded-3xl p-6 max-w-5xl w-full h-[80vh] shadow-2xl transform transition-transform duration-300 scale-95 flex flex-col">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-2xl font-bold text-gray-900">æˆ‘çš„ç®€å†</h3>
                <div class="flex gap-2">
                    <a href="resume.pdf" target="_blank" class="px-3 py-1.5 text-sm rounded-full bg-gray-100 text-gray-800 hover:bg-gray-200 transition">åœ¨æ–°æ ‡ç­¾æ‰“å¼€</a>
                    <a href="resume.pdf" download class="px-3 py-1.5 text-sm rounded-full bg-blue-600 text-white hover:bg-blue-700 transition">ä¸‹è½½</a>
                    <button id="resume-close" class="px-3 py-1.5 text-sm rounded-full bg-gray-200 text-gray-800 hover:bg-gray-300 transition">å…³é—­</button>
                </div>
            </div>
            <div class="flex-1 bg-gray-50 rounded-2xl overflow-hidden border border-gray-200">
                <iframe id="resume-frame" src="resume.pdf" class="w-full h-full" title="Resume PDF"></iframe>
            </div>
            <p class="text-xs text-gray-500 mt-3">å¦‚æœåµŒå…¥æ— æ³•æ˜¾ç¤ºï¼Œè¯·ç‚¹å‡»â€œåœ¨æ–°æ ‡ç­¾æ‰“å¼€â€æˆ–â€œä¸‹è½½â€ã€‚</p>
        </div>
    </div>

    <script src="travel-spots.js"></script>
    <script>
        (function() {
            const canvas = document.getElementById('particles-canvas');
            const ctx = canvas.getContext('2d');
            const skiContainer = document.getElementById('ski-avatar-container');
            const skiMan = skiContainer.querySelector('.ski-man');
            const triggerZone = document.getElementById('mountain-trigger-zone');
            const homeBox = document.getElementById('home-box');
            
            let particles = [];
            let mouseX = 0, mouseY = 0;
            let skiX = window.innerWidth / 2, skiY = window.innerHeight / 2;
            let isVisible = false;
            
            let isAutoSkiing = false;
            let hoverTimer = null;
            let autoSkiStartTime = 0;

            function resize() {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            }
            window.addEventListener('resize', resize);
            resize();

            class Particle {
                constructor(x, y, vx, vy, fromSkier = false) {
                    this.x = x; this.y = y; this.vx = vx; this.vy = vy;
                    this.alpha = 1;
                    this.size = Math.random() * 3 + 1;
                    this.fromSkier = fromSkier;
                }
                update() {
                    const cutoff = canvas.height / 3; // default cutoff for background snow
                    this.x += this.vx; 
                    this.y += this.vy;

                    if (this.fromSkier) {
                        // skierç²’å­è¦†ç›–å…¨å±ï¼Œåªåœ¨åº•éƒ¨æ·¡å‡º
                        if (this.y > canvas.height * 0.9) {
                            this.alpha -= 0.02;
                        } else {
                            this.alpha = Math.min(1, this.alpha + 0.003);
                        }
                        if (this.y > canvas.height + 40) {
                            this.alpha = 0;
                        }
                    } else {
                        // èƒŒæ™¯é›ªï¼šä»…é¡¶éƒ¨1/3å¯è§
                        if (this.y > cutoff) {
                            this.alpha -= 0.05;
                        }
                        if (this.y > cutoff + 20) {
                            this.alpha = 0;
                        }
                    }
                }
                draw() {
                    ctx.fillStyle = `rgba(255, 255, 255, ${this.alpha})`;
                    ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2); ctx.fill();
                }
            }

            if (triggerZone) {
                triggerZone.addEventListener('mouseenter', () => {
                    if (!isAutoSkiing) {
                        hoverTimer = setTimeout(() => {
                            isAutoSkiing = true;
                            autoSkiStartTime = Date.now();
                            skiMan.style.transition = "transform 0.5s cubic-bezier(0.45, 0, 0.55, 1)";
                        }, 1000);
                    }
                });

                triggerZone.addEventListener('mouseleave', () => {
                    clearTimeout(hoverTimer);
                });
            }

            if (homeBox) {
                homeBox.addEventListener('click', (e) => {
                    e.stopPropagation();
                    isAutoSkiing = false;
                    skiMan.style.transition = "transform 0.4s ease-out";
                });
            }

            document.addEventListener('mousemove', (e) => {
                if (!isVisible) {
                    skiContainer.style.display = 'block';
                    isVisible = true;
                }
                mouseX = e.clientX;
                mouseY = e.clientY;
            });

            function render() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                if (Math.random() > 0.85) {
                    particles.push(new Particle(Math.random() * canvas.width, 0, (Math.random() - 0.5), Math.random() * 2 + 1, false));
                }

                particles = particles.filter(p => p.alpha > 0);
                particles.forEach(p => { p.update(); p.draw(); });

                if (isAutoSkiing && triggerZone) {
                    const elapsed = (Date.now() - autoSkiStartTime) / 1000;
                    const rect = triggerZone.getBoundingClientRect();
                    
                    const targetX = rect.left + rect.width * (0.5 + Math.sin(elapsed * 1.8) * 0.35);
                    const targetY = rect.top + rect.height * (0.4 + (Math.cos(elapsed * 0.7) * 0.25));
                    
                    skiX += (targetX - skiX - 40) * 0.08;
                    skiY += (targetY - skiY - 40) * 0.08;

                    const angle = Math.cos(elapsed * 1.8) * 45;
                    skiMan.style.transform = `rotate(${angle}deg) scale(1.1)`;

                    if (Math.random() > 0.6) { // lower spawn rate
                        particles.push(new Particle(skiX + 40, skiY + 75, (Math.random() - 0.5) * 12, Math.random() * 4 + 2, true));
                    }
                } else {
                    skiX += (mouseX - skiX - 40) * 0.12;
                    skiY += (mouseY - skiY - 40) * 0.12;
                    
                    const angle = (mouseX - (skiX + 40)) * 0.6;
                    skiMan.style.transform = `rotate(${Math.max(-45, Math.min(45, angle))}deg) scale(1)`;
                    
                    const speed = Math.sqrt(Math.pow(mouseX - (skiX + 40), 2) + Math.pow(mouseY - (skiY + 40), 2));
                    if (speed > 8 && Math.random() > 0.8) { // lower spawn rate
                        particles.push(new Particle(skiX + 40, skiY + 80, (Math.random() - 0.5) * 5, 1, true));
                    }
                }
                
                skiContainer.style.transform = `translate3d(${skiX}px, ${skiY}px, 0)`;
                requestAnimationFrame(render);
            }
            render();
        })();
    </script>
    <script>
        let mapInstance;
        const modal = document.getElementById('project-modal');
        const modalCard = modal ? modal.querySelector('.transform') : null;
        const modalTitle = document.getElementById('modal-title');
        const modalContent = document.getElementById('modal-content');
        const modalImage = document.getElementById('modal-image');
        const modalClose = document.getElementById('modal-close');
        const diaryPrev = document.getElementById('diary-prev');
        const diaryNext = document.getElementById('diary-next');
        const diaryPage = document.getElementById('diary-page');
        const mapOverlay = document.getElementById('map-overlay');
        const mapContainer = document.getElementById('map-container');
        const contactEmail = document.getElementById('contact-email');
        const resumeModal = document.getElementById('resume-modal');
        const resumeOpen = document.getElementById('resume-open');
        const resumeClose = document.getElementById('resume-close');
        let currentSpot = null;
        let currentDiaryIndex = 0;
        let overlayTimer = null;

        async function loadDiary(spot, index) {
            if (!spot || !spot.diaryFiles || !spot.diaryFiles.length) {
                modalContent.textContent = spot?.diary || 'è¿˜æ²¡æœ‰æ—¥è®°å†…å®¹';
                updateDiaryControls(1, 1);
                return;
            }
            const total = spot.diaryFiles.length;
            currentDiaryIndex = ((index % total) + total) % total; // ç¯å½¢
            const file = spot.diaryFiles[currentDiaryIndex];
            updateDiaryControls(currentDiaryIndex + 1, total);

            // åˆ‡æ¢å¯¹åº”å›¾ç‰‡ï¼ˆè‹¥æä¾› photos åˆ—è¡¨åˆ™æŒ‰é¡µåˆ‡æ¢ï¼Œå¦åˆ™ç”¨ photo)
            if (modalImage) {
                const hasPhotos = Array.isArray(spot.photos) && spot.photos.length;
                const photoIdx = hasPhotos ? currentDiaryIndex % spot.photos.length : 0;
                modalImage.src = hasPhotos ? spot.photos[photoIdx] : '';
            }

            modalContent.textContent = 'åŠ è½½ä¸­...';
            try {
                const res = await fetch(file);
                if (res.ok) {
                    const text = await res.text();
                    modalContent.textContent = text.trim() || 'è¿˜æ²¡æœ‰æ—¥è®°å†…å®¹';
                } else {
                    modalContent.textContent = spot.diary || 'æ—¥è®°åŠ è½½å¤±è´¥';
                }
            } catch (e) {
                modalContent.textContent = spot.diary || 'æ—¥è®°åŠ è½½å¤±è´¥';
            }
        }

        function updateDiaryControls(current, total) {
            if (diaryPage) diaryPage.textContent = `${current} / ${total}`;
            const disabled = total <= 1;
            [diaryPrev, diaryNext].forEach(btn => {
                if (!btn) return;
                btn.disabled = disabled;
                btn.classList.toggle('opacity-50', disabled);
                btn.classList.toggle('cursor-not-allowed', disabled);
            });
        }

        async function openModal(spot) {
            if (!modal || !modalTitle || !modalContent || !modalImage) return;
            modalTitle.textContent = spot.title;
            currentSpot = spot;
            currentDiaryIndex = 0;
            modalContent.textContent = 'åŠ è½½ä¸­...';
            modalImage.src = (Array.isArray(spot.photos) && spot.photos.length) ? spot.photos[0] : '';
            modalImage.alt = spot.title;
            modal.classList.remove('hidden');
            requestAnimationFrame(() => {
                modal.classList.remove('opacity-0');
                if (modalCard) modalCard.classList.remove('scale-95');
            });

            // å¼‚æ­¥åŠ è½½å½“å‰æ—¥è®°
            loadDiary(spot, 0);
        }

        function closeModal() {
            if (!modal) return;
            modal.classList.add('opacity-0');
            if (modalCard) modalCard.classList.add('scale-95');
            setTimeout(() => modal.classList.add('hidden'), 250);
        }

        if (modal) {
            modal.addEventListener('click', (event) => {
                if (event.target === modal) {
                    closeModal();
                }
            });
        }

        if (modalClose) {
            modalClose.addEventListener('click', closeModal);
        }

        if (diaryPrev) {
            diaryPrev.addEventListener('click', () => {
                if (!currentSpot) return;
                loadDiary(currentSpot, currentDiaryIndex - 1);
            });
        }

        if (diaryNext) {
            diaryNext.addEventListener('click', () => {
                if (!currentSpot) return;
                loadDiary(currentSpot, currentDiaryIndex + 1);
            });
        }

        function openResume() {
            if (!resumeModal) return;
            resumeModal.classList.remove('hidden');
            requestAnimationFrame(() => {
                resumeModal.classList.remove('opacity-0');
                resumeModal.querySelector('.transform')?.classList.remove('scale-95');
            });
        }

        function closeResume() {
            if (!resumeModal) return;
            resumeModal.classList.add('opacity-0');
            resumeModal.querySelector('.transform')?.classList.add('scale-95');
            setTimeout(() => resumeModal.classList.add('hidden'), 250);
        }

        if (resumeOpen) {
            resumeOpen.addEventListener('click', openResume);
        }

        if (resumeClose) {
            resumeClose.addEventListener('click', closeResume);
        }

        if (resumeModal) {
            resumeModal.addEventListener('click', (event) => {
                if (event.target === resumeModal) {
                    closeResume();
                }
            });
        }

        // è”ç³»é‚®ç®±ï¼šä¼˜å…ˆæ‰“å¼€ Gmail ç½‘é¡µå†™ä¿¡ï¼Œè‹¥è¢«æ‹¦æˆªåˆ™é€€å› mailto
        if (contactEmail) {
            contactEmail.addEventListener('click', (event) => {
                event.preventDefault();
                const gmailUrl = 'https://mail.google.com/mail/?view=cm&fs=1&to=steveli001018@gmail.com';
                const win = window.open(gmailUrl, '_blank');
                if (!win) {
                    window.location.href = 'mailto:steveli001018@gmail.com';
                }
            });
        }

        // åœ°å›¾äº¤äº’æ—¶æš‚æ—¶éšè—è¦†ç›–æ–‡æ¡ˆï¼Œé¿å…æŒ¡è§†çº¿
        function hideOverlayTemporarily() {
            if (!mapOverlay) return;
            mapOverlay.classList.add('opacity-0');
            clearTimeout(overlayTimer);
            overlayTimer = setTimeout(() => {
                mapOverlay.classList.remove('opacity-0');
            }, 1200);
        }

        if (mapContainer) {
            mapContainer.addEventListener('pointerdown', hideOverlayTemporarily);
            mapContainer.addEventListener('wheel', hideOverlayTemporarily, { passive: true });
        }

        // Google Maps åˆå§‹åŒ–
        function initTravelMap() {
            const mapEl = document.getElementById('map');
            if (!mapEl || typeof google === 'undefined') return;

            mapInstance = new google.maps.Map(mapEl, {
                center: { lat: 20, lng: 0 },
                zoom: 2,
                styles: [
                    { elementType: 'geometry', stylers: [{ color: '#1d1f26' }] },
                    { elementType: 'labels.text.fill', stylers: [{ color: '#e8eaed' }] },
                    { elementType: 'labels.text.stroke', stylers: [{ color: '#1a1a1a' }] },
                    {
                        featureType: 'administrative',
                        elementType: 'geometry',
                        stylers: [{ color: '#44464d' }]
                    },
                    {
                        featureType: 'water',
                        elementType: 'geometry',
                        stylers: [{ color: '#0f172a' }]
                    },
                    {
                        featureType: 'poi',
                        elementType: 'labels',
                        stylers: [{ visibility: 'off' }]
                    }
                ]
            });

            const bounds = new google.maps.LatLngBounds();

            travelSpots.forEach((spot) => {
                const marker = new google.maps.Marker({
                    position: spot.position,
                    map: mapInstance,
                    title: spot.title,
                    icon: {
                        url: 'https://maps.google.com/mapfiles/ms/icons/blue-dot.png'
                    }
                });
                bounds.extend(spot.position);
                marker.addListener('click', () => openModal(spot));
            });

            if (!bounds.isEmpty()) {
                mapInstance.fitBounds(bounds, 60);
            }
        }

        // æš´éœ²ç»™ Google Maps å›è°ƒ
        window.initTravelMap = initTravelMap;

        // =========================================================================
        // ä¸»è„šæœ¬é€»è¾‘
        // =========================================================================

        document.addEventListener('DOMContentLoaded', () => {
            // 1. æ»šåŠ¨æ¸å˜æ•ˆæœ
            const fadeElements = document.querySelectorAll('.scroll-fade-element');

            const observerOptions = {
                root: null,
                rootMargin: '0px 0px -100px 0px',
                threshold: 0.1
            };

            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('active');
                        observer.unobserve(entry.target);
                    }
                });
            }, observerOptions);

            fadeElements.forEach(element => {
                observer.observe(element);
            });
            
            // 2. å¯¼èˆªæ é¢œè‰²åˆ‡æ¢
            // å¯¼èˆªæ ä¿æŒç»Ÿä¸€è“è°ƒï¼Œä¸åšé¢œè‰²åˆ‡æ¢

        });
    </script>
    <!-- Google Maps APIï¼šä½¿ç”¨ä½ æä¾›çš„å¯†é’¥ç›´æ¥åŠ è½½ -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCAk3EzJwe-b2P9rcIjfjaTw6oagUStajQ&callback=initTravelMap" async defer></script>
</body>
</html>
<!--åœ¨ç»ˆç«¯ä¸­è¾“å…¥ python -m http.server 8000 -->
<!--åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ http://localhost:8000/index.html -->
